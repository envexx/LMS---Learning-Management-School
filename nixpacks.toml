# Nixpacks configuration for Coolify
# This file tells Nixpacks how to build the application
# Node.js 20 is required for Prisma and Next.js 16
# IMPORTANT: Set NIXPACKS_NODE_VERSION=20 in Coolify Environment Variables
# Do NOT use nixPkgs in nixpacks.toml - it causes errors
# Use environment variable NIXPACKS_NODE_VERSION instead

[phases.install]
cmds = [
  "npm ci"
]

[phases.build]
cmds = [
  "npm run build"
]

[start]
cmd = "npm start"
